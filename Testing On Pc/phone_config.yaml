# Phone Camera Configuration
# This file configures the system to use a phone camera

# Camera Settings (Phone Camera)
camera:
  index: 1              # Phone camera index (1 = iPhone via USB, may vary)
  width: 1280           # Resolution
  height: 720
  fps: 30

# YOLO Detector Settings (PC-optimized)
detector:
  model_path: ../best.pt           # Path to YOLO model (relative to project root)
  conf_threshold: 0.25             # Confidence threshold
  iou_threshold: 0.45              # NMS IoU threshold
  imgsz: 640                       # YOLO input size
  device: 'cpu'                    # 'cpu' or '0' for GPU (if CUDA available)
  half: false                      # FP16 disabled for PC (not needed)

# Inventory Tracking Settings
inventory:
  smoothing_window: 10             # Frames to average
  smoothing_method: median         # median, mean, or mode
  enable_persistence: true         # Enable SQLite persistence
  snapshot_interval: 5.0           # Seconds between snapshots
  expiration_days: 5               # Days until expiration
  sales_confirm_intervals: 2       # Intervals to confirm sale
  sales_min_delta: 1               # Min quantity change
  sales_cooldown_seconds: 10.0     # Cooldown between sales

# Alert System Settings
alerts:
  enable_alerts: true              # Enable alert system
  alert_confirm_intervals: 2       # Intervals to confirm alert
  alert_cooldown_seconds: 3600.0   # Cooldown (1 hour)
  low_stock_thresholds:
    mango: 3
    watermelon: 2
    pineapple: 2
    passion fruit: 2
    maui custard: 2
    lemon cake: 2

# Web Server Settings
server:
  host: '127.0.0.1'               # Localhost only for security
  port: 8080                      # HTTP port

# Video Streaming Settings
stream:
  target_fps: 20                  # Lower FPS for PC testing (CPU-friendly)
